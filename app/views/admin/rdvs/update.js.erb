<% if @rdv.errors.empty? %>
  <% rdv_html = render "admin/rdvs/rdv", rdv: @rdv, locals: { agent: @agent } %>
  (function() {
    let element = document.getElementById('rdv-<%= @rdv.id %>');
    if(element) {
      element.outerHTML = "<%= escape_javascript rdv_html %>";
    }
    $("#rdv-updated-flash-message-<%= @rdv.id %>").html('<%= j render partial: "layouts/flash" %>');
  })();
<% else %>
    $("#rdv-updated-flash-message-<%= @rdv.id %>").html('<%= j render partial: "layouts/flash" %>');
<% end %>
